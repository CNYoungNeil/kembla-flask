(function(){"use strict";var e={7862:function(e,t,a){var s=a(6848),l=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],o={name:"App"},i=o,n=a(1656),c=(0,n.A)(i,l,r,!1,null,null,null),d=c.exports,u=a(9143),p=a.n(u),m=a(4373),h=a(1040),g=a(6178),f=function(){var e=this,t=e._self._c;return t("el-container",{staticStyle:{height:"100%",border:"1px solid #eee"}},[t("el-aside",{staticStyle:{height:"100%"},attrs:{width:e.asideWidth}},[t("AsideBar",{attrs:{isCollapse:e.isCollapse}})],1),t("el-container",{staticStyle:{height:"100%"}},[t("el-header",{staticStyle:{"text-align":"right","font-size":"12px","border-bottom":"1px solid #ccc"}},[t("HeaderBar",{attrs:{icon:e.iconC},on:{doCollapseAside:e.collapseAside}})],1),t("el-main",{staticStyle:{height:"100%"}},[t("router-view")],1)],1)],1)},b=[],y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"component-name"},[t("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{border:"none"},attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b","default-active":e.$route.path,router:"",collapse:e.isCollapse,"collapse-transition":!1}},[t("el-menu-item",{attrs:{index:"/index/home"}},[t("i",{staticClass:"el-icon-s-home"}),t("span",[e._v("Home")])]),e.isAdmin?t("el-menu-item",{attrs:{index:"/index/userlist"}},[t("i",{staticClass:"el-icon-user-solid"}),t("span",[e._v("User List")])]):e._e(),t("el-menu-item",{attrs:{index:"/index/paper/listAsresult"}},[t("i",{staticClass:"el-icon-s-order"}),t("span",[e._v("Assessment")])])],1)],1)},v=[],w=(a(4114),{name:"AsideBar",props:{isCollapse:Boolean},computed:{userId(){return localStorage.getItem("userId")},roleId(){return Number(localStorage.getItem("roleId"))},isAdmin(){return 0==this.roleId}},methods:{safePush(e){this.$route.path!==e&&this.$router.push(e)}}}),x=w,I=(0,n.A)(x,y,v,!1,null,"bffdcffe",null),_=I.exports,S=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex","align-items":"center","line-height":"60px"}},[t("div",[t("i",{class:e.icon,staticStyle:{"font-size":"large"},on:{click:e.collapseAside}})]),e._m(0),t("div",{staticStyle:{"font-size":"small"}},[t("span",{staticStyle:{cursor:"pointer"}},[e._v(" "+e._s(e.username)+" ")]),t("el-dropdown",{attrs:{trigger:"click"}},[t("i",{staticClass:"el-icon-caret-bottom",staticStyle:{margin:"5px"}}),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{nativeOn:{click:function(t){return e.logout.apply(null,arguments)}}},[e._v("log out")])],1)],1)],1),t("el-dialog",{attrs:{title:"Login",visible:e.loginDialogVisible,width:"30%"},on:{"update:visible":function(t){e.loginDialogVisible=t}},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{staticStyle:{"font-size":"18px","font-weight":"bold",display:"inline-block",width:"100%","text-align":"left"}},[e._v(" Login ")])]},proxy:!0}])},[t("el-form",{ref:"loginForm",staticStyle:{width:"80%","margin-left":"30px"},attrs:{model:e.loginForm,rules:e.loginRules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"Account",prop:"account"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),t("el-form-item",{attrs:{label:"Password",prop:"password"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.loginDialogVisible=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitLogin}},[e._v("Login")])],1)],1)],1)},k=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{flex:"1","text-align":"center","font-size":"xx-large","font-weight":"bold"}},[t("span",[e._v("Vesuvius Admin System")])])}],C={name:"HeaderBar",data(){return{loginDialogVisible:!1,username:localStorage.getItem("username")||"User",loginForm:{account:"",password:""},loginRules:{account:[{required:!0,message:"Please enter account",trigger:"blur"}],password:[{required:!0,message:"Please enter password",trigger:"blur"}]}}},props:{icon:String},methods:{toUser(){console.log("toUser")},logout(){localStorage.removeItem("token"),localStorage.removeItem("userId"),this.$message.warning("Logged out successfully"),this.$axios.get(this.$httpUrl+"/exit").then((()=>{setTimeout((()=>{window.close()}),200)})).catch((e=>{console.error("Fail to log out",e),setTimeout((()=>{location.reload()}),200)}))},collapseAside(){this.$emit("doCollapseAside")},submitLogin(){this.$refs.loginForm.validate((e=>{e&&this.$axios.post(this.$httpUrl+"/user/login",this.loginForm).then((e=>{1===e.data.code?(this.$message.success("Login successful"),this.loginDialogVisible=!1,localStorage.setItem("user",JSON.stringify(e.data.data))):this.$message.error(e.data.msg||"Login failed")})).catch((()=>{this.$message.error("Server error")}))}))}}},$=C,P=(0,n.A)($,S,k,!1,null,"4ba6b184",null),F=P.exports,A={name:"LayoutPage",components:{AsideBar:_,HeaderBar:F},data(){return{isCollapse:!1,asideWidth:"200px",iconC:"el-icon-s-fold"}},methods:{collapseAside(){console.log("collapseAside"),this.isCollapse=!this.isCollapse,this.isCollapse?(this.asideWidth="65px",this.iconC="el-icon-s-unfold"):(this.asideWidth="200px",this.iconC="el-icon-s-fold")}}},U=A,D=(0,n.A)(U,f,b,!1,null,"37055cda",null),z=D.exports,L=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"100%",width:"100%"}},[t("el-form",{staticStyle:{margin:"5px 0px -12px 10px"},attrs:{inline:""}},[t("el-form-item",{attrs:{label:"Account"}},[t("el-input",{attrs:{placeholder:"Enter account",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadPost.apply(null,arguments)}},model:{value:e.accountFuzzy,callback:function(t){e.accountFuzzy=t},expression:"accountFuzzy"}})],1),t("el-form-item",{attrs:{label:"Name"}},[t("el-input",{attrs:{placeholder:"Enter name",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadPost.apply(null,arguments)}},model:{value:e.nameFuzzy,callback:function(t){e.nameFuzzy=t},expression:"nameFuzzy"}})],1),t("el-form-item",{attrs:{label:"Identity ID"}},[t("el-input",{attrs:{placeholder:"Enter identity ID",clearable:""},model:{value:e.identityIdFuzzy,callback:function(t){e.identityIdFuzzy=t},expression:"identityIdFuzzy"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.loadPost}},[e._v("Search")]),t("el-button",{attrs:{plain:""},on:{click:e.handleClear}},[e._v("Clear")]),t("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){e.dialogVisible=!0}}},[e._v("Create")])],1),t("el-dialog",{attrs:{title:"User Information",visible:e.dialogVisible,width:"36%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"userForm",staticClass:"user-form",staticStyle:{"margin-left":"30px"},attrs:{model:e.newUser,"label-width":"110px","label-position":"left",rules:e.rules}},[t("el-form-item",{attrs:{label:"Account",prop:"account"}},[t("el-input",{model:{value:e.newUser.account,callback:function(t){e.$set(e.newUser,"account",t)},expression:"newUser.account"}})],1),t("el-form-item",{attrs:{label:"Name",prop:"name"}},[t("el-input",{model:{value:e.newUser.name,callback:function(t){e.$set(e.newUser,"name",t)},expression:"newUser.name"}})],1),t("el-form-item",{attrs:{label:"Password",prop:"password"}},[t("el-input",{model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}})],1),t("el-form-item",{attrs:{label:"Email",prop:"email"}},[t("el-input",{model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}})],1),t("el-form-item",{attrs:{label:"Site Location",prop:"site"}},[t("el-select",{attrs:{placeholder:"Select location"},model:{value:e.newUser.site,callback:function(t){e.$set(e.newUser,"site",t)},expression:"newUser.site"}},[t("el-option",{attrs:{label:"Kembla",value:1}}),t("el-option",{attrs:{label:"Padstow",value:2}}),t("el-option",{attrs:{label:"Both",value:3}})],1)],1),t("el-form-item",{attrs:{label:"Company",prop:"cname"}},[t("el-input",{model:{value:e.newUser.cname,callback:function(t){e.$set(e.newUser,"cname",t)},expression:"newUser.cname"}})],1),t("el-form-item",{attrs:{label:"Gender"}},[t("el-radio-group",{staticStyle:{display:"flex","flex-direction":"column"},model:{value:e.newUser.sex,callback:function(t){e.$set(e.newUser,"sex",t)},expression:"newUser.sex"}},[t("el-radio",{attrs:{label:"1"}},[e._v("Male")]),t("el-radio",{attrs:{label:"0"}},[e._v("Female")]),t("el-radio",{attrs:{label:"2"}},[e._v("Secret")])],1)],1),t("el-form-item",{attrs:{label:"Phone"}},[t("el-input",{model:{value:e.newUser.phone,callback:function(t){e.$set(e.newUser,"phone",t)},expression:"newUser.phone"}})],1),t("el-form-item",{attrs:{label:"Role"}},[t("el-select",{attrs:{placeholder:"Select role"},model:{value:e.newUser.roleId,callback:function(t){e.$set(e.newUser,"roleId",t)},expression:"newUser.roleId"}},[t("el-option",{attrs:{label:"Contractor",value:"4"}}),t("el-option",{attrs:{label:"Visitor",value:"3"}}),t("el-option",{attrs:{label:"Employee",value:"2"}}),t("el-option",{attrs:{label:"Manager",value:"1"}}),t("el-option",{attrs:{label:"Admin",value:"0"}})],1)],1),t("el-form-item",{attrs:{label:"Main Contact"}},[t("el-input",{model:{value:e.newUser.contact,callback:function(t){e.$set(e.newUser,"contact",t)},expression:"newUser.contact"}})],1),t("el-form-item",{attrs:{label:"Contact Email"}},[t("el-input",{model:{value:e.newUser.conEmail,callback:function(t){e.$set(e.newUser,"conEmail",t)},expression:"newUser.conEmail"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Confirm")])],1)],1)],1),t("el-dialog",{attrs:{title:"Assign Paper to User",visible:e.assignDialogVisible,width:"30%"},on:{"update:visible":function(t){e.assignDialogVisible=t}}},[t("el-form",{attrs:{"label-width":"100px"}},[t("el-form-item",{attrs:{label:"Select Paper"}},[t("el-select",{staticStyle:{width:"100%","max-width":"360px"},attrs:{placeholder:"Choose a paper"},model:{value:e.selectedPaperId,callback:function(t){e.selectedPaperId=t},expression:"selectedPaperId"}},e._l(e.paperList,(function(e){return t("el-option",{key:e.paperId,attrs:{label:e.title,value:e.paperId}})})),1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.assignDialogVisible=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:e.assignPaper}},[e._v("Assign")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#dfe6ee",color:"#333",fontWeight:"bold",textAlign:"center"},"cell-style":{textAlign:"center"},border:"",stripe:""}},[t("el-table-column",{attrs:{label:"No.",type:"index",width:"80"}}),t("el-table-column",{attrs:{prop:"account",label:"ACCOUNT",width:"150"}}),t("el-table-column",{attrs:{prop:"name",label:"NAME",width:"150"}}),t("el-table-column",{attrs:{prop:"identityId",label:"IDENTITY_ID",width:"150"}}),t("el-table-column",{attrs:{prop:"roleId",label:"ROLE",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:e.roleColors[a.row.roleId],"disable-transitions":""}},[e._v(e._s(e.roleMap[a.row.roleId]||"Unknown Role"))])]}}])}),t("el-table-column",{attrs:{prop:"email",label:"EMAIL",width:"220"}}),t("el-table-column",{attrs:{prop:"contact",label:"MAIN CONTACT",width:"150"}}),t("el-table-column",{attrs:{prop:"conEmail",label:"CONTACT EMAIL",width:"220"}}),t("el-table-column",{attrs:{prop:"cname",label:"COMPANY NAME",width:"150"}}),t("el-table-column",{attrs:{prop:"site",label:"SITE LOCATION",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.siteMap[t.row.site]||"Unknown")+" ")]}}])}),t("el-table-column",{attrs:{prop:"operate",label:"ACTIONS","min-width":"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticStyle:{display:"flex",gap:"6px","justify-content":"center"}},[t("el-button",{attrs:{size:"small",type:"warning",plain:""},on:{click:function(t){return e.openAssignDialog(a.row)}}},[e._v("Assign")]),t("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.handleDelete(a.row)}}},[e._v("Delete")])],1)]}}])})],1),t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,15,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},E=[],R={name:"UserListPage",data(){return{assignDialogVisible:!1,selectedUserId:null,selectedPaperId:null,paperList:[],siteMap:{1:"Port Kembla",2:"Padstow",3:"Both"},dialogVisible:!1,newUser:{account:"",name:"",employeeId:"",password:"",roleId:"3",cname:"",sex:"2",phone:"",email:"",contact:"",conEmail:"",site:null},rules:{account:[{required:!0,pattern:/[a-zA-Z]/,message:"Must contain at least one letter",trigger:"blur"}],password:[{required:!0,pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/,message:"At least 6 chars, must mixed letters and numbers",trigger:"blur"}],name:[{required:!0,message:"Name is required",trigger:"blur"}],employeeId:[{required:!0,message:"Employee ID is required",trigger:"blur"}],email:[{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Email is required",trigger:"blur"}],site:[{required:!0,message:"Site is required",trigger:"change"}],cname:[{required:!0,message:"Company name is required",trigger:"blur"}]},pageNum:1,pageSize:10,total:0,nameFuzzy:"",accountFuzzy:"",identityIdFuzzy:"",tableData:[],roleMap:{0:"Super Admin",1:"Manager",2:"Employee",3:"Visitor",4:"Contractor"},roleColors:{0:"primary",1:"success",2:"info",3:"info",4:"info"}}},beforeMount(){this.loadPost()},methods:{handleClear(){this.nameFuzzy="",this.accountFuzzy="",this.identityIdFuzzy="",this.loadPost()},handleSizeChange(e){console.log(`每页 ${e} 条`),this.pageSize=e,this.pageNum=1,this.loadPost()},handleCurrentChange(e){console.log(`当前页: ${e}`),this.pageNum=e,this.loadPost()},handleClose(e){this.$confirm("Are you sure to close this dialog?").then((()=>{e()})).catch((()=>{}))},submitForm(){this.$refs.userForm.validate((e=>{e?this.$axios.post(this.$httpUrl+"/user/save",this.newUser).then((e=>{1==e.data.code?(this.$message.success("Saved successfully"),e.data.data&&e.data.data.identityId&&(this.newUser.identityId=e.data.data.identityId),this.dialogVisible=!1,this.loadPost()):this.$message.error(e.data.msg||"Save failed")})).catch((()=>{this.$message.error("Server error")})):this.$message.warning("Please complete the required fields correctly")}))},handleDelete(e){this.$confirm(`Are you sure to delete user "${e.name}"?`,"Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then((()=>{this.$axios.delete(this.$httpUrl+"/user/delete?id="+e.userId).then((e=>{1==e.data.code?(this.$message.success("User deleted"),this.loadPost()):this.$message.error(e.data.msg||"Delete failed")}))})).catch((()=>{this.$message.info("Delete canceled")}))},openAssignDialog(e){this.selectedUserId=e.userId,this.assignDialogVisible=!0,console.log("Assigning paper to user ID:",this.selectedUserId),this.$axios.get(this.$httpUrl+"/paper/listAll").then((e=>{1===e.data.code?this.paperList=e.data.data:this.$message.error("Failed to load papers.")}))},assignPaper(){console.log("Assigning paper",this.selectedPaperId,"to user",this.selectedUserId),this.$axios.post(this.$httpUrl+"/asresult/insert",{userId:this.selectedUserId,paperId:this.selectedPaperId}).then((e=>{1===e.data.code?(this.$message.success("Paper assigned successfully!"),this.assignDialogVisible=!1):this.$message.error(e.data.msg||"Assignment failed.")}))},loadGet(){this.$axios.get(this.$httpUrl+"/user/list").then((e=>{console.log(e.data)}))},loadPost(){this.$axios.post(this.$httpUrl+"/user/listPage",{name:this.nameFuzzy,account:this.accountFuzzy,identityId:this.identityIdFuzzy,pageBody:{pageNum:this.pageNum,pageSize:this.pageSize}}).then((e=>{1==e.data.code?(console.log("分页完整数据：",e.data),this.tableData=e.data.data.list,this.total=e.data.data.total,this.pageNum=e.data.data.pageNum,this.pageSize=e.data.data.pageSize):alert("Get data failed")}))}},computed:{roleId(){return Number(localStorage.getItem("roleId"))},isAdmin(){return 0===this.roleId}}},T=R,N=(0,n.A)(T,L,E,!1,null,"6063e379",null),O=N.exports,V=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home-container"},[t("el-card",{staticClass:"home-card",attrs:{shadow:"hover"}},[t("img",{staticClass:"logo-image",attrs:{src:a(8752),alt:"Vesuvius Logo"}}),t("div",{staticClass:"title"},[e._v("Welcome to the Vesuvius Admin System")]),t("div",{staticClass:"subtitle"},[e._v("We're shaping the future of industries that will shape the future for everyone.")]),t("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(t){e.loginDialogVisible=!0}}},[e._v(" Login ")])],1),t("el-dialog",{attrs:{title:"Login",visible:e.loginDialogVisible,width:"500px"},on:{"update:visible":function(t){e.loginDialogVisible=t}}},[t("el-form",{attrs:{model:e.loginForm,"label-width":"100px"}},[t("el-form-item",{staticStyle:{"margin-left":"8%"},attrs:{label:"Account"}},[t("el-input",{staticStyle:{width:"240px"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin.apply(null,arguments)}},model:{value:e.loginForm.account,callback:function(t){e.$set(e.loginForm,"account",t)},expression:"loginForm.account"}})],1),t("el-form-item",{staticStyle:{"margin-left":"8%"},attrs:{label:"Password"}},[t("el-input",{staticStyle:{width:"240px"},attrs:{type:"password"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.loginDialogVisible=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitLogin}},[e._v("Login")])],1)],1)],1)},q=[],M={name:"LoginPage",data(){return{loginDialogVisible:!1,loginForm:{account:"",password:""}}},methods:{submitLogin(){this.$axios.post(this.$httpUrl+"/user/login",{account:this.loginForm.account,password:this.loginForm.password}).then((e=>{if(1===e.data.code){const t=e.data.data.token,a=e.data.data.user,s=a.userId,l=a.name,r=a.identityId,o=a.roleId,i=a.account;localStorage.setItem("token",t),localStorage.setItem("userId",s),localStorage.setItem("username",l),localStorage.setItem("roleId",o),localStorage.setItem("account",i),localStorage.setItem("identityId",r),this.$message.success("Login successful"),console.log("Login successful",e.data),this.$router.push("/index")}else this.$message.error(e.data.msg||"Login failed")}))}}},B=M,j=(0,n.A)(B,V,q,!1,null,"28a1ddec",null),W=j.exports,H=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"flex-start"}},[t("div",{staticStyle:{flex:"1"}},[t("el-form",{staticStyle:{margin:"5px 0px 0px 10px"},attrs:{inline:""}},[e.isAdmin?t("el-form-item",{attrs:{label:"Name"}},[t("el-input",{attrs:{placeholder:"Enter name",clearable:""},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1):e._e(),e.isAdmin?t("el-form-item",{attrs:{label:"Role"}},[t("el-select",{attrs:{placeholder:"Select role",clearable:""},model:{value:e.searchForm.roleId,callback:function(t){e.$set(e.searchForm,"roleId",t)},expression:"searchForm.roleId"}},[t("el-option",{attrs:{label:"SuperAdmin",value:0}}),t("el-option",{attrs:{label:"Manager",value:1}}),t("el-option",{attrs:{label:"Employee",value:2}}),t("el-option",{attrs:{label:"Visitor",value:3}}),t("el-option",{attrs:{label:"Contractor",value:4}})],1)],1):e._e(),e.isAdmin?t("el-form-item",{attrs:{label:"Site"}},[t("el-select",{attrs:{placeholder:"Select site",clearable:""},model:{value:e.searchForm.site,callback:function(t){e.$set(e.searchForm,"site",t)},expression:"searchForm.site"}},[t("el-option",{attrs:{label:"Kembla",value:1}}),t("el-option",{attrs:{label:"Padstow",value:2}})],1)],1):e._e(),e.isAdmin?t("el-form-item",{attrs:{label:"Paper"}},[t("el-select",{attrs:{placeholder:"Select paper",clearable:""},model:{value:e.searchForm.paperId,callback:function(t){e.$set(e.searchForm,"paperId",t)},expression:"searchForm.paperId"}},e._l(e.paperList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1):e._e()],1),t("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","margin-left":"10px","margin-bottom":"-10px"}},[t("el-form",{attrs:{inline:""}},[t("el-form-item",{attrs:{label:"Status"}},[t("el-select",{attrs:{placeholder:"Select status",clearable:""},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[t("el-option",{attrs:{label:"Completed",value:0}}),t("el-option",{attrs:{label:"In progress",value:1}}),t("el-option",{attrs:{label:"Not started",value:2}}),t("el-option",{attrs:{label:"Retry required",value:4}}),t("el-option",{attrs:{label:"Exam expired",value:5}})],1)],1),t("el-form-item",{attrs:{label:"Date"}},[t("el-date-picker",{attrs:{type:"daterange","range-separator":"to","start-placeholder":"Start date","end-placeholder":"End date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",clearable:""},model:{value:e.searchForm.dateRange,callback:function(t){e.$set(e.searchForm,"dateRange",t)},expression:"searchForm.dateRange"}})],1)],1),t("div",{staticStyle:{"margin-bottom":"22px","margin-right":"260px"}},[t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.fetchPaperResultList}},[e._v("Search")]),t("el-button",{attrs:{plain:""},on:{click:e.handleClear}},[e._v("Clear")])],1)],1)],1),t("div",{staticStyle:{"margin-right":"15px","margin-top":"10px"}},[t("el-button",{attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-s-order"},on:{click:function(t){e.showPrintDialog=!0}}},[e._v("PDF preview")])],1)]),t("el-table",{attrs:{data:e.paperResultList,"header-cell-style":{background:"#dfe6ee",color:"#333",fontWeight:"bold",textAlign:"center"},"cell-style":{textAlign:"center"},border:"",stripe:""}},[t("el-table-column",{attrs:{label:"No.",type:"index",width:"80"}}),t("el-table-column",{attrs:{label:"PAPER TITLE",prop:"title",width:"400"}}),t("el-table-column",{attrs:{label:"SUBMIT TIME",prop:"submitTime",width:"200",formatter:e.formatDate}}),e.isAdmin?t("el-table-column",{attrs:{label:"NAME",prop:"username",width:"150"}}):e._e(),t("el-table-column",{attrs:{label:"STATUS",width:"160"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:e.getStatusTagType(a.row.status)}},[e._v(" "+e._s(e.getStatusText(a.row.status))+" ")])]}}])}),t("el-table-column",{attrs:{label:"SCORE",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(null!==a.row.score?a.row.score:"-"))])]}}])}),t("el-table-column",{attrs:{label:"PASSED",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[[0,4].includes(a.row.status)?t("span",[1==a.row.passed?t("el-tag",{attrs:{type:"success"}},[e._v(" ✅")]):t("el-tag",{attrs:{type:"danger"}},[e._v(" ❌")])],1):t("span",[e._v("-")])]}}])}),t("el-table-column",{attrs:{label:"ACTION","min-width":"250"},scopedSlots:e._u([{key:"default",fn:function(a){return[2===a.row.status?t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleFill(a.row)}}},[e._v(" Start ")]):e._e(),3===a.row.status?t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.handleFill(a.row)}}},[e._v(" Retry ")]):e._e(),0===a.row.status||4===a.row.status?t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.goToResult(a.row)}}},[e._v(" View Rresult ")]):e._e()]}}])})],1),t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[10,20,50,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),t("el-dialog",{attrs:{title:"Select the fields",visible:e.showPrintDialog,width:"300px"},on:{"update:visible":function(t){e.showPrintDialog=t}}},[t("el-checkbox-group",{staticStyle:{display:"flex","flex-direction":"column",gap:"5px","margin-left":"25px"},model:{value:e.selectedFields,callback:function(t){e.selectedFields=t},expression:"selectedFields"}},[t("el-checkbox",{attrs:{label:"username"}},[e._v("Name")]),t("el-checkbox",{attrs:{label:"identityId"}},[e._v("Identity ID")]),t("el-checkbox",{attrs:{label:"email"}},[e._v("Email")]),t("el-checkbox",{attrs:{label:"cname"}},[e._v("Company")]),t("el-checkbox",{attrs:{label:"site"}},[e._v("Site")]),t("el-checkbox",{attrs:{label:"status"}},[e._v("Status")]),t("el-checkbox",{attrs:{label:"paperId"}},[e._v("Paper ID")]),t("el-checkbox",{attrs:{label:"title"}},[e._v("Paper Title")]),t("el-checkbox",{attrs:{label:"score"}},[e._v("Score")]),t("el-checkbox",{attrs:{label:"passed"}},[e._v("Passed")]),t("el-checkbox",{attrs:{label:"submitTime"}},[e._v("SubmitTime")])],1),t("span",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.showPrintDialog=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:e.generatePDF}},[e._v("Confirm")])],1)],1)],1)},Y=[],Z=(a(8111),a(2489),a(1701),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),{name:"PaperListPage",data(){return{paperResultList:[],isAdmin:!1,pageNum:1,pageSize:10,total:0,showPrintDialog:!1,selectedFields:["username","identityId","cname","email","submitTime"],searchForm:{paperId:null,dateRange:[],name:null,roleId:null,site:null,status:null},fieldLabels:{username:"Name",identityId:"Identity ID",email:"Email",cname:"Company",site:"Site",paperId:"Paper ID",title:"Paper Title",score:"Score",passed:"Passed",submitTime:"SubmitTime"}}},created(){const e=parseInt(localStorage.getItem("roleId"));this.isAdmin=0===e,this.fetchPaperResultList()},computed:{paperList(){const e=new Set;return this.paperResultList.filter((t=>!(!t.paperId||e.has(t.paperId))&&(e.add(t.paperId),!0))).map((e=>({id:e.paperId,title:e.title})))}},methods:{fetchPaperResultList(){this.paperResultList=[];const e=parseInt(localStorage.getItem("userId")),t=parseInt(localStorage.getItem("roleId")),[a,s]=this.searchForm.dateRange||[];this.$axios.post(this.$httpUrl+"/asresult/fuzzyPage",{userId:e,userRoleId:t,filterRoleId:this.searchForm.roleId,name:this.searchForm.name,site:this.searchForm.site,status:this.searchForm.status,paperId:this.searchForm.paperId,beginDate:a,endDate:s,pageNum:this.pageNum,pageSize:this.pageSize}).then((e=>{1===e.data.code&&(this.paperResultList=e.data.data.list,this.total=e.data.data.total),console.log("列表数据:",e.data.data.list)}))},handleClear(){this.searchForm={paperId:null,dateRange:[]},this.pageNum=1,this.fetchPaperResultList()},handleCurrentChange(e){this.pageNum=e,this.fetchPaperResultList()},handleSizeChange(e){this.pageSize=e,this.pageNum=1,this.fetchPaperResultList()},handlePageChange(e){this.pageNum=e,this.fetchPaperResultList()},generatePDF(){console.log("当前选中的字段:",this.selectedFields);const e=parseInt(localStorage.getItem("userId")),t=parseInt(localStorage.getItem("roleId")),[a,s]=this.searchForm.dateRange||[];this.$axios.post(this.$httpUrl+"/asresult/exportPdf",{filterPage:{...this.searchForm,userId:e,userRoleId:t,beginDate:a,endDate:s},selectedFields:this.selectedFields},{responseType:"blob"}).then((e=>{const t=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(t);window.open(a,"_blank"),this.showPrintDialog=!1})).catch((()=>{this.$message.error("Failed to generate PDF.")}))},formatDate(e,t,a){if(!a)return"-";const s=new Date(a);return s.toLocaleString("en-AU",{timeZone:"Australia/Sydney",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},getStatusText(e){switch(e){case 0:return"COMPLETED";case 1:return"IN PROGRESS";case 2:return"NOT STARTED";case 3:return"RETRY REQUIRED";case 4:return"FAILED";case 5:return"EXAM EXPIRED";default:return"未知"}},getStatusTagType(e){switch(e){case 0:return"success";case 1:return"warning";case 2:return"info";case 4:return"warning";case 5:return"danger";default:return"default"}},handleFill(e){const t=e.asresultId;t?this.$router.push({path:`/index/paper/fill/${t}`}):this.$message.error("缺少答卷ID，无法跳转")},goToResult(e){const{asresultId:t}=e;this.$router.push(`/index/paper/result/${t}`)}}}),G=Z,K=(0,n.A)(G,H,Y,!1,null,"6a545c76",null),Q=K.exports,X=function(){var e=this,t=e._self._c;return e.paper?t("div",{staticClass:"paper-page"},[t("h2",[e._v(e._s(e.paper.title))]),t("p",[e._v(e._s(e.paper.description))]),t("br"),t("el-form",{attrs:{model:e.form}},[e._l(e.paper.questions,(function(a,s){return t("div",{key:a.id,staticClass:"question-card"},[t("p",{staticClass:"question-title"},[e._v("Q"+e._s(s+1)+": "+e._s(a.content))]),t("el-radio-group",{model:{value:e.form["q"+a.orderIndex],callback:function(t){e.$set(e.form,"q"+a.orderIndex,t)},expression:"form['q' + question.orderIndex]"}},e._l(a.options,(function(a){return t("el-radio",{key:a.value,staticStyle:{display:"block"},attrs:{label:a.value}},[e._v(" "+e._s(a.value)+". "+e._s(a.label)+" ")])})),1)],1)})),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("Submit")])],1)],2)],1):e._e()},J=[],ee=(a(7588),{name:"PaperFillPage",data(){return{asresultId:null,paper:null,form:{}}},mounted(){const e=Number(this.$route.params.asresultId);if(!e)return this.$message.error("缺少答卷ID，无法加载试卷！"),void this.$router.push("/index/paper/list");console.log("进入答题页面，asresultId =",e),this.asresultId=e,this.loadPaper()},methods:{handleSubmit(){const e={asresultId:this.asresultId,userId:localStorage.getItem("userId"),paperId:this.paper?this.paper.paperId:null,answers:this.form};console.log("提交数据：",e),this.$axios.post(this.$httpUrl+"/asresult/submitWithScore",e).then((e=>{1===e.data.code?(this.$message.success("Submit Successful!"),this.$router.push(`/index/paper/result/${this.asresultId}`)):this.$message.error("Submit failed："+e.data.msg)})).catch((e=>{this.$message.error("提交异常"),console.error("提交错误：",e)}))},loadPaper(){this.$axios.get(this.$httpUrl+"/paper/fill",{params:{asresultId:this.asresultId}}).then((e=>{const t=e.data.data||{questions:[]};this.paper=t,this.form={},t.questions.forEach((e=>{const t="q"+e.orderIndex;this.$set(this.form,t,"")}))})).catch((e=>{console.error("加载试卷失败：",e),this.$message.error("加载试卷失败！")}))}}}),te=ee,ae=(0,n.A)(te,X,J,!1,null,"6d369144",null),se=ae.exports,le=function(){var e=this,t=e._self._c;return e.result?t("div",{staticClass:"result-page"},[t("el-card",{staticClass:"summary-card",attrs:{shadow:"hover"}},[t("div",{staticClass:"summary-item"},[t("strong",[e._v("PAPER:")]),e._v(" "+e._s(e.result.title))]),t("div",{staticClass:"summary-item"},[t("strong",[e._v("USER:")]),e._v(" "+e._s(e.result.username))]),t("div",{staticClass:"summary-item"},[t("strong",[e._v("SCORE:")]),e._v(" "+e._s(e.result.score))]),t("div",{staticClass:"summary-item"},[t("strong",[e._v("STATUS:")]),t("el-tag",{attrs:{type:e.result.passed?"success":"danger"}},[e._v(" "+e._s(e.result.passed?"PASSED":"FAILED")+" ")])],1),t("div",{staticClass:"summary-item"},[t("strong",[e._v("SUBMITTED:")]),e._v(" "+e._s(e.formatDate(e.result.submitTime)))])]),e._l(e.result.questions,(function(a,s){return t("el-card",{key:s,staticClass:"question-card",attrs:{shadow:"never"}},[t("div",{staticClass:"question-header"},[t("span",{staticClass:"q-key"},[e._v("Q"+e._s(s+1))]),t("span",{staticClass:"q-title"},[e._v(e._s(a.questionTitle))]),t("el-tag",{staticClass:"q-tag",attrs:{type:a.isCorrect?"success":"danger"}},[e._v(" "+e._s(a.isCorrect?"Correct":"Wrong")+" ")])],1),t("div",{staticClass:"question-section"},[t("div",[t("strong",[e._v("Your Answer:")]),e._v(" "+e._s(a.userAnswer.join(", ")||"-"))])]),t("div",{staticClass:"options"},[t("strong",[e._v("Options:")]),t("ul",e._l(a.options,(function(a,s){return t("li",{key:s},[e._v(e._s(String.fromCharCode(65+s))+". "+e._s(a))])})),0)])])})),t("div",{staticStyle:{"text-align":"center","margin-top":"40px"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:e.goBack}},[e._v(" Back to List ")])],1)],2):e._e()},re=[],oe={name:"PaperResultPage",data(){return{result:null}},methods:{formatDate(e){if(!e)return"-";const t=new Date(e);return t.toLocaleString("en-AU",{timeZone:"Australia/Sydney",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(",","")},goBack(){const e=localStorage.getItem("userId");e?this.$router.push("/index/paper/listAsresult"):this.$message.error("无法返回列表：userId 不存在")}},mounted(){const e=this.$route.params.asresultId;this.$axios.post(this.$httpUrl+"/asresult/resultById",null,{params:{asresultId:Number(e)}}).then((e=>{1===e.data.code?this.result=e.data.data:this.$message.error(e.data.msg||"Failed to load result.")})).catch((()=>{this.$message.error("Network error.")})),console.log("请求结果，asresultId =",e)}},ie=oe,ne=(0,n.A)(ie,le,re,!1,null,"1a1479a0",null),ce=ne.exports,de=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home-page"},[t("el-card",{staticClass:"user-info-card"},[t("h2",{staticStyle:{"text-align":"center","font-weight":"bold"}},[e._v("Welcome, "+e._s(e.username)+"！")]),t("el-descriptions",{staticStyle:{"margin-top":"20px"},attrs:{title:"User Profile",column:2,border:""}},[t("el-descriptions-item",{attrs:{label:"Account"}},[e._v(" "+e._s(e.account)+" ")]),t("el-descriptions-item",{attrs:{label:"Role"}},[t("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.roleMap[e.roleId]||"unknown"))])],1),t("el-descriptions-item",{attrs:{label:"Identity ID"}},[e._v(" "+e._s(e.identityId)+" ")])],1)],1)],1)},ue=[],pe={name:"HomePage",data(){return{username:localStorage.getItem("username")||"unknown",account:localStorage.getItem("account")||"unknown",identityId:localStorage.getItem("identityId")||"unknown",roleId:localStorage.getItem("roleId")||"-1",roleMap:{0:"SuperManager",1:"Manager",2:"Employee",3:"Visitor",4:"Contractor"}}}},me=pe,he=(0,n.A)(me,de,ue,!1,null,"35a99248",null),ge=he.exports,fe=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","font-size":"18px","font-weight":"bold",margin:"15px 10px"}},[t("div",[e._v("Upload Records")]),t("el-button",{attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-upload"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(" Upload Files ")])],1),t("el-dialog",{attrs:{title:"Upload Files",visible:e.dialogVisible,width:"500px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("div",{staticStyle:{padding:"0 20px"}},[t("el-upload",{ref:"uploadRef",attrs:{drag:"",multiple:"","file-list":e.fileList,"before-upload":e.beforeUpload,"auto-upload":!1,"on-change":e.handleFileChange}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text"},[e._v("Drag files to here, or "),t("em",[e._v("click here to upload files")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("Only PDF supported")])])],1),t("span",{staticStyle:{display:"flex","justify-content":"flex-end",padding:"0 20px"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),t("el-button",{attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v("Submit")])],1)]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.batchList,"header-cell-style":{background:"#dfe6ee",color:"#333",fontWeight:"bold",textAlign:"center"},"cell-style":{textAlign:"center"},border:""}},[t("el-table-column",{attrs:{label:"No.",type:"index",width:"60"}}),t("el-table-column",{attrs:{prop:"batchId",label:"Batch ID"}}),t("el-table-column",{attrs:{prop:"createTime",label:"Upload Time"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatDate(t.row.createTime))+" ")]}}])}),t("el-table-column",{attrs:{prop:"fileCount",label:"File Count",width:"120"}}),t("el-table-column",{attrs:{label:"Action",width:"220px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.viewDetails(a.row.batchId)}}},[e._v("View Details")])]}}])})],1)],1)},be=[],ye={name:"PoRecords",created(){this.loadBatchListFromServer()},data(){return{uploadUrl:this.$httpUrl+"/po/extractSave",currentUserId:Number(localStorage.getItem("userId")),batchList:[],dialogVisible:!1,fileList:[]}},methods:{beforeUpload(e){const t="application/pdf"===e.type;return t||this.$message.error("Only PDF files are allowed."),t},handleFileChange(e,t){this.fileList=t},async submitUpload(){if(!this.fileList.length)return void this.$message.warning("Please select files to upload.");const e=new FormData;this.fileList.forEach((t=>{e.append("file",t.raw)})),e.append("userId",this.currentUserId);try{await this.$axios.post(this.$httpUrl+"/po/extractSave",e,{headers:{"Content-Type":"multipart/form-data"}}),this.$message.success("Upload successful!"),this.dialogVisible=!1,this.fileList=[],this.loadBatchListFromServer()}catch(t){console.error("Upload failed",t),this.$message.error("Upload failed!")}},loadBatchListFromServer(){const e=localStorage.getItem("userId");console.log("当前userID是"+e),this.$axios.get(this.$httpUrl+`/po/listByUser?userId=${e}`).then((e=>{1===e.data.code?this.batchList=e.data.data:this.$message.error(e.data.msg||"Failed to load upload records.")})).catch((()=>{this.$message.error("Server error.")}))},viewDetails(e){const t=e.batchId||e;this.$router.push(`/po/detail/${t}`)},formatDate(e){return e?new Date(e).toLocaleString():""}}},ve=ye,we=(0,n.A)(ve,fe,be,!1,null,"799934ca",null),xe=we.exports,Ie=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center","font-size":"18px","font-weight":"bold",margin:"15px 10px"}},[t("div",[e._v("PO Records - Batch ID: "+e._s(e.batchId))]),t("el-button",{attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-download"},on:{click:e.exportExcel}},[e._v(" Export Excel ")])],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.poRecords,"header-cell-style":{background:"#dfe6ee",color:"#333",fontWeight:"bold",textAlign:"center"},"cell-style":{textAlign:"center"},border:""}},[t("el-table-column",{attrs:{label:"No.",type:"index",width:"60"}}),t("el-table-column",{attrs:{prop:"poNumber",label:"PO Number",width:"140"}}),t("el-table-column",{attrs:{prop:"productName",label:"Product Name"}}),t("el-table-column",{attrs:{prop:"container",label:"Container ID",width:"160"}}),t("el-table-column",{attrs:{prop:"vessel",label:"Vessel"}}),t("el-table-column",{attrs:{prop:"weight",label:"Weight",width:"120"}}),t("el-table-column",{attrs:{prop:"etd",label:"ETD",width:"120"}}),t("el-table-column",{attrs:{prop:"eta",label:"ETA",width:"120"}}),t("el-table-column",{attrs:{prop:"sourceFile",label:"File Name"}})],1)],1)},_e=[],Se=a(3230),ke=a(788),Ce={name:"PoDetailPage",data(){return{batchId:this.$route.params.batchId,poRecords:[]}},mounted(){this.fetchPoRecords()},methods:{async fetchPoRecords(){const e=await this.$axios.get(this.$httpUrl+`/po/records/${this.batchId}`);this.poRecords=e.data.data},exportExcel(){const e=this.poRecords.map(((e,t)=>({"No.":t+1,"PO Number":e.poNumber,"Product Name":e.productName,"Container ID":e.container,Vessel:e.vessel,Weight:e.weight,ETD:e.etd,ETA:e.eta,"File Name":e.sourceFile}))),t=Se.Wp.json_to_sheet(e),a=Se.Wp.book_new();Se.Wp.book_append_sheet(a,t,"PO Records");const s=Se.M9(a,{bookType:"xlsx",type:"array"}),l=new Blob([s],{type:"application/octet-stream"});(0,ke.saveAs)(l,`PO_Records_Batch_${this.batchId}.xlsx`)}}},$e=Ce,Pe=(0,n.A)($e,Ie,_e,!1,null,null,null),Fe=Pe.exports;s["default"].use(g.Ay);const Ae=new g.Ay({mode:"history",routes:[{path:"/",redirect:"/login"},{path:"/login",component:W},{path:"/index",component:z,children:[{path:"",redirect:"home"},{path:"home",name:"HomePage",component:ge},{path:"userlist",name:"UserListPage",component:O},{path:"paper/listAsresult",component:Q,name:"PaperListPage"},{path:"paper/fill/:asresultId",component:se,name:"PaperFillPage"},{path:"paper/result/:asresultId",component:ce,name:"PaperResultPage"},{path:"po/porecords",component:xe,name:"PoRecordsPage"},{path:"/po/detail/:batchId",component:Fe,name:"PoDetailPage"}]},{path:"*",redirect:"/index/home"}]});Ae.beforeEach(((e,t,a)=>{const s=localStorage.getItem("token"),l=localStorage.getItem("userId"),r=Number(localStorage.getItem("roleId"));return s||"/login"===e.path?"/index/userlist"===e.path&&0!==r?a("/index/paper/list/"+l):void a():a("/login")}));var Ue=Ae;s["default"].use(p(),{locale:h.A}),m.A.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers["Authorization"]="Bearer "+t),e}),(e=>Promise.reject(e))),s["default"].prototype.$axios=m.A,s["default"].prototype.$httpUrl="http://localhost:8090",s["default"].config.productionTip=!1,s["default"].use(p()),new s["default"]({router:Ue,render:e=>e(d)}).$mount("#app")},8752:function(e,t,a){e.exports=a.p+"img/logo-corporate.433f2a3e.svg"}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,s,l,r){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],l=e[d][1],r=e[d][2];for(var i=!0,n=0;n<s.length;n++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[n])}))?s.splice(n--,1):(i=!1,r<o&&(o=r));if(i){e.splice(d--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,l,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={57:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,r,o=s[0],i=s[1],n=s[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(n)var d=n(a)}for(t&&t(s);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},s=self["webpackChunkvue2admin"]=self["webpackChunkvue2admin"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(7862)}));s=a.O(s)})();
//# sourceMappingURL=index.41a17642.js.map